#!/bin/sh
# ugproject
# set -e to stop after the first error; otherwise you may miss errors.
set -e
cp $UGROOT/ug.conf $UGROOT/ug.conf.orig
# build 2TFFF lib
cp $UGROOT/configs/2TFFF.conf $UGROOT/ug.conf
ugmake ug -i clean
ugmake ug
cd $UGROOT/../diff2d/pclib
make
cd $UGROOT/../diff2d/appl
make
# rely on uglib2TFFF
cd $UGROOT/../ns2d/pclib
make
cd $UGROOT/../ns2d/appl
make
# build 3TFFF lib
cp $UGROOT/configs/3TFFF.conf $UGROOT/ug.conf
ugmake ug -i ifdef
ugmake ug
cd $UGROOT/../cd3d/pclib
make
cd $UGROOT/../cd3d/appl
make
# build 2FTFF lib
cp $UGROOT/configs/2FTFF.conf $UGROOT/ug.conf
ugmake ug -i ifdef
ugmake ug
cd $UGROOT/../fem/pclib
make
cd $UGROOT/../fem/appl
make
# Test is ready
# restore original state
mv $UGROOT/ug.conf.orig $UGROOT/ug.conf 
ugmake ug -i ifdef

